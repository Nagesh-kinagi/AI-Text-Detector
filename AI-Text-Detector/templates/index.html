<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--  <title>AI Essay Evaluation</title>-->
<!--  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.3/css/bulma.min.css">-->
<!--  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">-->
<!--</head>-->
<!--<body>-->
<!--  <nav class="navbar is-primary" role="navigation" aria-label="main navigation">-->
<!--    <div class="navbar-brand">-->
<!--      <a class="navbar-item" href="#">-->
<!--        AI Generated Probability Evaluation-->
<!--      </a>-->

<!--      <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">-->
<!--        <span aria-hidden="true"></span>-->
<!--        <span aria-hidden="true"></span>-->
<!--        <span aria-hidden="true"></span>-->
<!--      </a>-->
<!--    </div>-->

<!--    <div id="navbarBasicExample" class="navbar-menu">-->
<!--      <div class="navbar-start">-->
<!--        <a class="navbar-item" href="#">-->
<!--          Home-->
<!--        </a>-->

<!--        <a class="navbar-item" href="#">-->
<!--          Documentation-->
<!--        </a>-->
<!--      </div>-->

<!--      <div class="navbar-end">-->
<!--        <div class="navbar-item">-->
<!--          <div class="buttons">-->
<!--            <a class="button is-primary" href="#">-->
<!--              <strong>Sign up</strong>-->
<!--            </a>-->
<!--            <a class="button is-light" href="#">-->
<!--              Log in-->
<!--            </a>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </nav>-->

<!--  <div class="container">-->
<!--    <div class="header">-->
<!--      <h1 class="title">AI Generated Probability Evaluation</h1>-->
<!--      <p class="subtitle">Upload a file to evaluate its AI-generated content probability</p>-->
<!--    </div>-->
<!--    <div class="upload-section">-->
<!--      <div class="file is-boxed has-name is-centered is-fullwidth">-->
<!--        <form id="fileForm" enctype="multipart/form-data">-->
<!--          <label class="file-label">-->
<!--            <input class="file-input" type="file" name="file" id="fileInput">-->
<!--            <span class="file-cta">-->
<!--              <span class="file-icon">-->
<!--                <i class="fas fa-upload"></i>-->
<!--              </span>-->
<!--              <span class="file-label">-->
<!--                Choose a file…-->
<!--              </span>-->
<!--            </span>-->
<!--            <span class="file-name" id="fileName">-->
<!--              No file chosen-->
<!--            </span>-->
<!--          </label>-->
<!--        </form>-->
<!--      </div>-->
<!--      <div class="field" style="margin-top: 20px;">-->
<!--        <div class="control">-->
<!--          <button class="button is-primary is-fullwidth" id="submitBtn">Evaluate</button>-->
<!--        </div>-->
<!--      </div>-->
<!--      <progress class="progress is-small is-primary" id="progressBar" value="0" max="100"></progress>-->
<!--    </div>-->
<!--    <div id="result"></div>-->
<!--  </div>-->

<!--  &lt;!&ndash; Modal &ndash;&gt;-->
<!--  <div class="modal" id="myModal">-->
<!--    <div class="modal-background"></div>-->
<!--    <div class="modal-content">-->
<!--      <div class="box">-->
<!--        <h1 class="title is-4">Evaluation Result</h1>-->
<!--        <div id="modalResult"></div>-->
<!--      </div>-->
<!--    </div>-->
<!--    <button class="modal-close is-large" aria-label="close"></button>-->
<!--  </div>-->

<!--  <footer class="footer">-->
<!--    <div class="content has-text-centered">-->
<!--      <p>-->
<!--        <strong>AI Generated Probability Evaluation</strong> by GD4.-->
<!--      </p>-->
<!--    </div>-->
<!--  </footer>-->

<!--  <script src="https://kit.fontawesome.com/a076d05399.js"></script>-->
<!--  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--  <script src="{{ url_for('static', filename='script.js') }}"></script>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Essay Evaluation</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.3/css/bulma.min.css">
</head>
<body>
  <nav class="navbar is-primary" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a class="navbar-item" href="#">
        AI Generated Probability Evaluation
      </a>
    </div>
  </nav>

  <div class="container">
    <div class="header">
      <h1 class="title">AI Generated Probability Evaluation</h1>
      <p class="subtitle">Upload a file to evaluate its AI-generated content probability</p>
    </div>

    <div class="upload-section">
      <div class="file is-boxed has-name is-centered is-fullwidth">
        <form id="fileForm" action="/" method="post" enctype="multipart/form-data">
          <label class="file-label">
            <input class="file-input" type="file" name="file" id="fileInput">
            <span class="file-cta">
              <span class="file-icon">
                <i class="fas fa-upload"></i>
              </span>
              <span class="file-label">Choose a file…</span>
            </span>
            <span class="file-name" id="fileName">No file chosen</span>
          </label>
        </form>
      </div>

      <div class="field" style="margin-top: 20px;">
        <div class="control">
          <button class="button is-primary is-fullwidth" id="submitBtn">Evaluate</button>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="myModal">
      <div class="modal-background"></div>
      <div class="modal-content">
        <div class="box">
          <h1 class="title is-4">Evaluation Result</h1>
          <div id="modalResult"></div>
        </div>
      </div>
      <button class="modal-close is-large" aria-label="close"></button>
    </div>

    <footer class="footer">
      <div class="content has-text-centered">
        <p><strong>AI Generated Probability Evaluation</strong> by Group 38.</p>
      </div>
    </footer>

    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- JavaScript for handling form submission -->
    <script>
      $(document).ready(function() {
          $('#fileInput').on('change', function() {
              var fileName = $(this).val().split('\\').pop(); // For Windows
              $('#fileName').text(fileName);
          });

          $('#submitBtn').on('click', function(event) {
              event.preventDefault(); // Prevent default form submission
              var formData = new FormData($('#fileForm')[0]);

              $.ajax({
                  url: '/',
                  type: 'POST',
                  data: formData,
                  contentType: false,
                  processData: false,
                  success: function(response) {
                      $('#modalResult').html(response.results.join('<br>'));
                      $('#myModal').addClass('is-active'); // Show modal
                  },
                  error: function(xhr) {
                      alert('Error: ' + xhr.responseText);
                  }
              });
          });

          // Close modal on close button click
          $('.modal-close').on('click', function() {
              $('#myModal').removeClass('is-active');
          });
      });
    </script>

  </div> <!-- End of container -->
</body>
</html>